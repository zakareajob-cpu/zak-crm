{% extends "base.html" %}{% block content %}
<div class="row space"><h1>Invoice</h1>
<div class="row"><button class="btn primary" onclick="window.print()">Print / Save PDF</button><a class="btn" href="{{ url_for('invoices') }}">Back</a></div></div>

<div class="invoice-paper">
  <div class="invoice-header">
    <div>
      <div class="company-name">{{ COMPANY_NAME }}</div>
      <div class="muted">{{ COMPANY_ADDRESS }}</div>
      <div class="muted">{{ COMPANY_EMAIL }}</div>
    </div>
    <div class="right">
      <div class="invoice-title">Proforma Invoice</div>
      <div><b>No.:</b> {{ inv.invoice_no }}</div>
      <div><b>Issued Date:</b> {{ inv.issue_date }}</div>
    </div>
  </div>
  <hr>
  <div class="grid-2">
    <div>
      <h3>Ship To</h3>
      <div><b>{{ inv.name }}</b></div>
      <div>{{ inv.company or "" }}</div>
      <div>{{ inv.address or "" }}</div>
      <div>{{ inv.city or "" }} {{ inv.country or "" }}</div>
      <div>{{ inv.phone or "" }} {{ inv.whatsapp or "" }}</div>
      <div>{{ inv.email or "" }}</div>
    </div>
    <div>
      <h3>Bill To</h3>
      <div><b>{{ inv.name }}</b></div>
      <div>{{ inv.company or "" }}</div>
      <div>{{ inv.address or "" }}</div>
      <div>{{ inv.city or "" }} {{ inv.country or "" }}</div>
      <div>{{ inv.phone or "" }} {{ inv.whatsapp or "" }}</div>
      <div>{{ inv.email or "" }}</div>
    </div>
  </div>

  <div class="table-wrap mt">
    <table class="invoice-table">
      <thead><tr>
        <th>Line</th><th>Product Abbreviation</th><th>Description</th><th>Specification</th><th>Package</th><th>Form</th><th>Qty</th><th>Unit Price (USD)</th><th>Amount (USD)</th>
      </tr></thead>
      <tbody>
      {% for it in items %}
        <tr><td>{{ it.line_no }}</td><td>{{ it.product_abbreviation }}</td><td>{{ it.description }}</td><td>{{ it.specification }}</td><td>{{ it.package }}</td><td>{{ it.form }}</td><td>{{ it.quantity }}</td><td>{{ "%.2f"|format(it.unit_price) }}</td><td>{{ "%.2f"|format(it.amount) }}</td></tr>
      {% endfor %}
      </tbody>
    </table>
  </div>

  <div class="right mt">
    <div class="total"><b>Total Payment:</b> {{ "%.2f"|format(inv.total_amount) }} USD</div>
  </div>

  <div class="mt bank">
    <h3>BANK INFORMATIONS FOR T/T PAYMENT:</h3>
    <pre>{{ BANK_INFO }}</pre>
  </div>
</div>

<style>
@media print{ header.topbar, .row.space .row { display:none !important; } .container { padding:0; } .invoice-paper { border:none; } }
</style>
{% endblock %}
